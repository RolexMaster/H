import tkinter as tk
import time

class BlackFadeOverlay:
    def __init__(self, max_opacity=0.9, steps=30, delay=50):
        self.max_opacity = max_opacity  # 최종 어둠 정도 (0.0~1.0)
        self.steps = steps              # 점진 단계 수
        self.delay = delay              # 각 단계 간 지연(ms)

        self.root = tk.Tk()
        self.root.attributes("-fullscreen", True)
        self.root.attributes("-topmost", True)
        self.root.attributes("-alpha", 0.0)  # 처음에는 투명
        self.root.configure(bg="black")
        self.root.bind("<Escape>", self.close)

    def fade_in(self):
        for i in range(self.steps + 1):
            alpha = (i / self.steps) * self.max_opacity
            self.root.attributes("-alpha", alpha)
            self.root.update()
            time.sleep(self.delay / 1000)  # ms를 초로 변환

    def show(self):
        self.fade_in()
        self.root.mainloop()

    def close(self, event=None):
        self.root.destroy()

# 사용 예시
if __name__ == "__main__":
    overlay = BlackFadeOverlay(max_opacity=0.85, steps=50, delay=30)
    overlay.show()
